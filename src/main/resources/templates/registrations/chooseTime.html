<!DOCTYPE html>
<html lang="en"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <title>Расписание</title>
</head>
<body>
<div layout:fragment="content">
    <div>
        <hr class="hr"/>
        <h3 th:text="'Врач: ' + ${doctor.getLastName()} + ' ' + ${doctor.getFirstName()} + ' ' + ${doctor.getMidName()}" ></h3>
        <h3 th:text="'Специализация: ' + ${specialization.get(__${doctor.getSpecialization().getId() - 1}__).getTitleSpecialization()}" ></h3>
        <h3 th:text="'День: ' + ${day.getDay()}"></h3>
        <hr class="hr"/>
        <div><br></div>
        <table class="table table-hover">
            <thead>
            <tr>
                <th scope="col">Время</th>
                <th scope="col">Статус</th>
                <th scope="col"></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="t : ${timeSlots}">
                <td th:text="${t.getSlot()}"></td>
                <td th:classappend="${t.getRegistered() == false} ? 'not-active-reg' : 'active-reg'"
                    th:text="${t.getRegistered()} == false ? 'Свободно' : 'Занято'"></td>
                <td>
                    <a th:if="${!t.getRegistered()}" class="btn btn-sm btn-outline-success"
                       th:href="'/registrations/slots/create/' + ${t.getDoctorSlotId()}"
                       onclick="return confirm('Вы хотите записаться?')">Записаться</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>

<!--<!DOCTYPE html>-->
<!--<html lang="ru"-->
<!--      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"-->
<!--      layout:decorate="~{layout}">-->
<!--<head>-->
<!--    <meta charset="utf-8"/>-->
<!--    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1"/>-->
<!--    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>-->
<!--    <title>Выбрать время</title>-->
<!--</head>-->
<!--<body>-->
<!--<div layout:fragment="content">-->

<!--    <form method="POST" class="needs-validation" novalidate style="max-width: 50vw"-->
<!--          th:action="@{/registrations/slots}" th:object="${timeSlotIds}">-->
<!--        <h3 class="mt-3 mb-3" align="center">Выберите время</h3>-->
<!--        <div class="mt-3 row g-2">-->
<!--            <div class="col-md">-->
<!--                <select class="form-select" name="timeSlot" id="timeSlot">-->
<!--                    <option selected value="default">Выберете время записи</option>-->
<!--                    <option th:each="slot: ${timeSlots}"-->
<!--                            th:value="${slot.getRegistrationId()}"-->
<!--                            th:text="${slot.getSlot()}">-->
<!--                    </option>-->
<!--                </select>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="mt-3">-->
<!--            <button type="button" style="float: right" class="btn btn-sm btn-success" onclick="window.history.back()">-->
<!--                Назад-->
<!--            </button>-->
<!--            <button type="submit" style="float: right" class="btn btn-sm btn-success">Записаться</button>-->
<!--        </div>-->
<!--    </form>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->
