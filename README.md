# Дипломный проект для СберУниверситета

## Тема «Сервис регистрации на прием в поликлинике»

Содержание
1. [Актуальность темы и ее проблематика](#Актуальность-темы-и-ее-проблематика)
2. [Стек технологий](#Стек-технологий)
3. [База данных](#База-данных)
4. [Бизнес-логика приложения](#Бизнес-логика-приложения)
5. [Выводы](#Выводы)

## Актуальность темы и ее проблематика

Сервис регистрации на прием к врачу – неотъемлемая часть  любой современной поликлиники.
Благодаря нему посетитель может четко планировать свое  время, а врач определять объем предстоящей работы.
Данный сервис также заблаговременно оповестит о  предстоящей записи, чтобы клиент не забыл о ней, или об ее  отмене. 
В клинике нет очередей. Все счастливы!

## Стек технологий

* Java 17
* Maven
* Spring Framework
* Spring DATA, JPA
* ORM, Hibernate
* PostgreSQL
* Docker
* Spring Security
* Spring MVC
* Lombok
* Junit
* Mock
* Thymeleaf
* Bootstrap

## База данных
![data_base.png](src%2Fmain%2Fresources%2Fdb%2Fdata_base.png)

## Бизнес-логика приложения

Приложение поддерживает работу с тремя типами  пользователей:
* Администратор
* Доктор
* Посетитель

**Администратор** способен создавать аккаунты врачей,  подготавливать для них рабочий график. 

Ему можно также удалять/восстанавливать в системе клиентов,  врачей и их расписание работы.

**Доктор** может просматривать список всех клиентов  поликлиники. Врачам доступно личное расписание. По умолчанию в меню
расписания врачи видят актуальный график работы. При желании можно добавить архивное расписание – то, которое
было раньше текущего дня.  Внутри расписания за день врач видит записавшихся к нему посетителей. Он может просматривать их.

**Клиент** может записываться на прием к врачу двумя способами:
* Перейти в список с графиком работы врачей, найти врача по нужному критерию, используя поиск.
* Перейти в список докторов, выбрать нужного и нажать “записаться”. При этом его перекинет на страницу с актуальными рабочими днями 
врача, где можно выбрать подходящий день. В обоих случаях клиент должен перейти внутрь меню рабочего дня врача и выбрать свободный слот.

Есть два ограничения по записи для клиента:
* Нельзя записаться к врачу, если есть активная запись к доктору этой специализации.
* Нельзя записаться к врачу на то время, на которое у клиента уже имеется активная запись.

Предусмотрены две защиты при составлении расписания для врачей:
* Нельзя составить график врачу в тот день, в который он уже работает.
* Нельзя составить график врачу, используя кабинет, который занят в выбранный день

### Планировщик

В приложении реализовано оповещение клиента посредством  электронной почты в момент регистрации/отмены встречи.
Также система оповестит письмом за сутки до начала встречи.

В приложении реализован планировщик, который отслеживает статусы активных регистраций и переводит их в состояние прошдших событий, если им уже больше 29 минут, так как на
посещение врача отводится 30 минут.
